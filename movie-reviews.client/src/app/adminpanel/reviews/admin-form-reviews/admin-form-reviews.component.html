<form [formGroup]="reviewForm" (ngSubmit)="submit(reviewForm.value)">
  <div class="flex flex-column gap-2">
    <label for="title">Title</label>
    <input type="text" formControlName="title" pInputText />
  </div>

  <div class="flex flex-column gap-2 mt-2">
    <label for="text">Text</label>

    <textarea
      rows="5"
      cols="30"
      type="text"
      formControlName="text"
      pInputTextarea
    ></textarea>
  </div>

  <div class="flex flex-column gap-2 mt-2">
    <label for="rating">Rating</label>
    <p-inputNumber
      inputId="integeronly"
      formControlName="rating"
      [min]="0"
      [max]="10"
    >
    </p-inputNumber>
  </div>
  <div class="field">
    <label for="movieSelect">Select Movie</label>
    <select
      formControlName="movieId"
      class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"
    >
      <option *ngFor="let movie of movies" [value]="movie.id">
        {{ movie.title }}
      </option>
    </select>
  </div>

  <div class="field">
    <label for="userSelect">Select User</label>

    <select
      formControlName="appUserId"
      class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"
      (change)="onReviewIdChange($event)"
    >
      <option *ngFor="let user of users" [value]="user.id">
        {{ user.userName }}
      </option>
    </select>
  </div>

  <div class="flex flex-column gap-2 mt-2">
    <label for="name">Name</label>
    <input type="text" formControlName="userName" pInputText />
  </div>

  <div class="flex flex-column gap-2 mt-2">
    <label for="email">Email</label>
    <input type="email" formControlName="email" pInputText />
  </div>
  <div class="flex flex-column gap-2 mt-2">
    <label for="numberOfHours">Number of hours</label>
    <p-inputNumber
      inputId="numberOfHours"
      formControlName="numberOfHours"
    ></p-inputNumber>

    <label for="rate">Rate</label>
    <p-inputNumber
      inputId="rate"
      mode="currency"
      currency="PLN"
      locale="pl-PL"
      formControlName="rate"
    ></p-inputNumber>

    <label for="costOfReview">Total Cost of Review</label>
    <p-inputNumber
      inputId="costOfReview"
      mode="currency"
      currency="PLN"
      locale="pl-PL"
      formControlName="costOfReview"
    />
  </div>

  <p-button
    [style]="{ 'margin-top.px': 20 }"
    type="submit"
    [disabled]="reviewForm.invalid"
    label="Submit"
  ></p-button>
</form>
